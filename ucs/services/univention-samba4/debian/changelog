univention-samba4 (2.0.35-1) unstable; urgency=low

  * Don't start nbt_server when samba4/service/nmb==nmbd (Bug #29865)
  * Remove reference for UCR variable samba4/service/nbtd (Bug #24868)

 -- Arvid Requate <requate@univention.de>  Wed, 19 Dec 2012 17:07:03 +0100

univention-samba4 (2.0.34-1) unstable; urgency=low

  * Allow ntp group access to /var/lib/samba/ntp_signd (Bug #29688)

 -- Arvid Requate <requate@univention.de>  Wed, 19 Dec 2012 13:27:46 +0100

univention-samba4 (2.0.33-4) unstable; urgency=low

  * Remove all DC NTDS GUID DNS alias records during join, that are
    poiniting to the DC FQDN (Bug #29083)

 -- Arvid Requate <requate@univention.de>  Tue, 18 Dec 2012 17:33:41 +0100

univention-samba4 (2.0.33-3) unstable; urgency=low

  * add missing udm call credentials in joinscript (Bug #29083)

 -- Arvid Requate <requate@univention.de>  Mon, 17 Dec 2012 17:54:35 +0100

univention-samba4 (2.0.33-2) unstable; urgency=low

  * add missing udm call credentials in joinscript (Bug #29083)

 -- Arvid Requate <requate@univention.de>  Mon, 17 Dec 2012 17:22:30 +0100

univention-samba4 (2.0.33-1) unstable; urgency=low

  * Keep existing DC account object during join only if it exists locally
    (Bug #29083)
  * Remove old DC NTDS GUID record from DNS during re-join

 -- Arvid Requate <requate@univention.de>  Mon, 17 Dec 2012 13:01:05 +0100

univention-samba4 (2.0.32-1) unstable; urgency=low

  * Don't attempt creation of dns service account on RODCs (Bug #29537)

 -- Arvid Requate <requate@univention.de>  Mon, 17 Dec 2012 11:14:16 +0100

univention-samba4 (2.0.31-1) unstable; urgency=low

  * Fix treatment of long DNs in samba3 to samba4 migration (Bug #29335)

 -- Arvid Requate <requate@univention.de>  Mon, 17 Dec 2012 11:01:53 +0100

univention-samba4 (2.0.30-2) unstable; urgency=low

  * Call sysvolreset in second s4 join script to ensure the connector
    has already synced some accounts (Bug #29529)

 -- Stefan Gohmann <gohmann@univention.de>  Sun, 09 Dec 2012 16:36:15 +0100

univention-samba4 (2.0.30-1) unstable; urgency=low

  * Cleanup the sysvolreset call (Bug #29529)

 -- Stefan Gohmann <gohmann@univention.de>  Sun, 09 Dec 2012 15:32:42 +0100

univention-samba4 (2.0.29-1) unstable; urgency=low

  * Run sysvolreset after provision the first S4 DC (Bug #29529)

 -- Stefan Gohmann <gohmann@univention.de>  Sun, 09 Dec 2012 13:52:49 +0100

univention-samba4 (2.0.28-1) unstable; urgency=low

  * Update to Samba 4 RC6 (Bug #29529):
    * Run ntacl sysvolreset on update
    * Disable acl:search by default, see
      https://bugzilla.samba.org/show_bug.cgi?id=9470

 -- Stefan Gohmann <gohmann@univention.de>  Sat, 08 Dec 2012 17:39:43 +0100

univention-samba4 (2.0.27-10) unstable; urgency=low

  * currently don't remove _kerberos-adm._tcp, currently only the master
    is registered in that record (with port 88) (Bug #29225)

 -- Arvid Requate <requate@univention.de>  Tue, 27 Nov 2012 13:45:34 +0100

univention-samba4 (2.0.27-9) unstable; urgency=low

  * also remove _kerberos-adm._tcp and _ldap._tcp SRV records
    after initial and secondary provision (Bug #29225)

 -- Arvid Requate <requate@univention.de>  Tue, 27 Nov 2012 11:48:26 +0100

univention-samba4 (2.0.27-8) unstable; urgency=low

  * Fix handling of empty ldif and two cosmetical bugs (Bug #29225)

 -- Arvid Requate <requate@univention.de>  Mon, 26 Nov 2012 16:01:30 +0100

univention-samba4 (2.0.27-7) unstable; urgency=low

  * Remove also kpasswd SRV records after initial and secondary provision
    if dns/register/srv_records/kerberos is not false (Bug #29225)

 -- Arvid Requate <requate@univention.de>  Mon, 26 Nov 2012 14:46:40 +0100

univention-samba4 (2.0.27-6) unstable; urgency=low

  * Remove Kerberos SRV records after initial and secondary provision
    but only if dns/register/srv_records/kerberos is not false (Bug #29225)

 -- Arvid Requate <requate@univention.de>  Mon, 26 Nov 2012 14:25:37 +0100

univention-samba4 (2.0.27-5) unstable; urgency=low

  * Add copyrigh header to create_spn_account.sh (Bug #29217)

 -- Arvid Requate <requate@univention.de>  Wed, 21 Nov 2012 12:51:23 +0100

univention-samba4 (2.0.27-4) unstable; urgency=low

  * Move SPN account creation to 98univention-samba4-dns.inst
    to avoid waiting time for RID pool replication (Bug #29217)
  * Put SPN account creation function into separate shell script,
    might be useful in other cases.
  * Move function for RID pool replication delay into a shell function
    library. This allows join scripts to be trimmed down in the future.

 -- Arvid Requate <requate@univention.de>  Wed, 21 Nov 2012 12:40:59 +0100

univention-samba4 (2.0.27-3) unstable; urgency=low

  * Avoid exceeding max commandline length (Bug #29225)

 -- Arvid Requate <requate@univention.de>  Wed, 21 Nov 2012 11:07:11 +0100

univention-samba4 (2.0.27-2) unstable; urgency=low

  * Remove non-Samba4 Kerberos SRV records after initial provision
    on the first Samba 4 host in the domain (Bug #29225)

 -- Arvid Requate <requate@univention.de>  Tue, 20 Nov 2012 21:39:59 +0100

univention-samba4 (2.0.27-1) unstable; urgency=low

  * Replace create_dns-host_spn.py in join script by more standard shell
    code (Bug #29217)
  * Wait for RID pool replication after joining and starting samba

 -- Arvid Requate <requate@univention.de>  Tue, 20 Nov 2012 21:31:57 +0100

univention-samba4 (2.0.26-3) unstable; urgency=low

  * run sysvol-sync.sh in joinscript before running
    samba-tool ntacl sysvolreset (Bug #28737)

 -- Arvid Requate <requate@univention.de>  Tue, 13 Nov 2012 17:04:38 +0100

univention-samba4 (2.0.26-2) unstable; urgency=low

  * Add variable description for samba4/dc (Bug #27469)

 -- Arvid Requate <requate@univention.de>  Tue, 13 Nov 2012 11:58:20 +0100

univention-samba4 (2.0.26-1) unstable; urgency=low

  * Avoid using Kerberos for samba domain join (Bug #27469).
  * If samba4/dc is given, try only the given server.
  * Unify coding style in samba_domain_join function.

 -- Arvid Requate <requate@univention.de>  Tue, 13 Nov 2012 11:38:56 +0100

univention-samba4 (2.0.25-3) unstable; urgency=low

  * Revise workaround code for Bug #26641 to check machine.secret
    only if it differs from secrets.ldb and to restart samba4 only
    if machine.secret was copied into secrets.ldb (Bug #28583)

 -- Arvid Requate <requate@univention.de>  Tue, 06 Nov 2012 20:20:25 +0100

univention-samba4 (2.0.25-2) unstable; urgency=low

  * bashism fix (Bug #28583)

 -- Arvid Requate <requate@univention.de>  Tue, 06 Nov 2012 19:32:21 +0100

univention-samba4 (2.0.25-1) unstable; urgency=low

  * ensure that samba is re/started before trying samdb authentication
    in postinst (Bug #28583)
  * stop samba4 in prerm

 -- Arvid Requate <requate@univention.de>  Tue, 06 Nov 2012 18:41:46 +0100

univention-samba4 (2.0.24-1) unstable; urgency=low

  * use samba-tool ntacl sysvolreset instead of set_sysvol_ntacl.py
    (Bug #28737)

 -- Arvid Requate <requate@univention.de>  Tue, 30 Oct 2012 18:28:58 +0100

univention-samba4 (2.0.23-3) unstable; urgency=low

  * avoid tracebacks due to missing old records in idmap.ldb (Bug #26013)

 -- Arvid Requate <requate@univention.de>  Wed, 24 Oct 2012 21:16:38 +0200

univention-samba4 (2.0.23-2) unstable; urgency=low

  * improve modrdn handling in samba4-idmap Listener (Bug #28643)

 -- Arvid Requate <requate@univention.de>  Wed, 24 Oct 2012 21:05:14 +0200

univention-samba4 (2.0.23-1) unstable; urgency=low

  * Don't reset sysvol NTACLs and fACLs to the UCS 3.0 defaults on every
    run of the Samba 4 join script. Do it only during initial samba domain
    join (Bug #28894).

 -- Arvid Requate <requate@univention.de>  Wed, 24 Oct 2012 21:01:50 +0200

univention-samba4 (2.0.22-1) unstable; urgency=low

  * If no samba4 DC could be found during a join the LDAP will be
    searched for one before aborting (Bug #27469)

 -- Tobias Peters <peters@univention.de>  Tue, 23 Oct 2012 09:58:01 +0200

univention-samba4 (2.0.21-1) unstable; urgency=low

  * Add samba4/dcerpc/endpoint/drsuapi (for Bug #28390)

 -- Arvid Requate <requate@univention.de>  Thu, 18 Oct 2012 19:28:04 +0200

univention-samba4 (2.0.20-2) unstable; urgency=low

  * create sysvol-sync.log in univention-samba4-sysvol-sync.postinst
    (Bug #11431)

 -- Lukas Walter <walter@univention.de>  Thu, 18 Oct 2012 15:30:05 +0200

univention-samba4 (2.0.20-1) unstable; urgency=low

  * renamed dns/register/srv_record/gc to dns/register/srv_records/gc and dns/register/srv_record/pdc to dns/register/srv_records/pdc
  * moved its function from the joinscript to scripts/setup-dns-in-ucsldap.sh (Bug #28065)

 -- Tobias Peters <peters@univention.de>  Thu, 18 Oct 2012 15:17:12 +0200

univention-samba4 (2.0.19-1) unstable; urgency=low

  * pass joinscript credential options to bash functions (Bug #27457)

 -- Arvid Requate <requate@univention.de>  Wed, 17 Oct 2012 12:32:42 +0200

univention-samba4 (2.0.18-3) unstable; urgency=low

  * univention-samba4.postinst: added  dpkg-statoverride on
    /var/log/samba to confine it's accessibility (Bug #11431)

 -- Lukas Walter <walter@univention.de>  Wed, 17 Oct 2012 10:28:04 +0200

univention-samba4 (2.0.18-2) unstable; urgency=low

  * Fixed typo in UCR variables description (Bug #28065)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 17 Oct 2012 07:37:31 +0200

univention-samba4 (2.0.18-1) unstable; urgency=low

  * create account for dns-$hostname manually also on provisioned DC
    necessary due to a change in upstream RC (Bug #27457)

 -- Arvid Requate <requate@univention.de>  Tue, 16 Oct 2012 18:02:15 +0200

univention-samba4 (2.0.17-2) unstable; urgency=low
 
  * GC record registration is now controlled by the ucr variable
    dns/register/srv_record/gc and the pdc record registration by
    the ucr variable dns/register/srv_record/pdc (Bug #28065)

 -- Tobias Peters <peters@univention.de>  Fri, 12 Oct 2012 17:04:05 +0200

univention-samba4 (2.0.17-1) unstable; urgency=low

  * Ask for join credentials only when actually needed (Bug #27457)

 -- Arvid Requate <requate@univention.de>  Thu, 11 Oct 2012 21:47:54 +0200

univention-samba4 (2.0.16-2) unstable; urgency=low

  * Revert last checkin (Bug #28065)

 -- Arvid Requate <requate@univention.de>  Thu, 11 Oct 2012 21:43:19 +0200

univention-samba4 (2.0.16-1) unstable; urgency=low

  * deactivated the dns and gc registration on a DC slave in an ucs@school environment (Bug #28065)

 -- Tobias Peters <peters@univention.de>  Thu, 11 Oct 2012 11:16:48 +0200

univention-samba4 (2.0.15-1) unstable; urgency=low

  * adjust to samba3upgrade interface change (Bug #27457)

 -- Arvid Requate <requate@univention.de>  Wed, 10 Oct 2012 15:55:52 +0200

univention-samba4 (2.0.14-1) unstable; urgency=low

  * abort join script on failing udm call (Bug #27753)

 -- Lukas Walter <walter@univention.de>  Wed, 10 Oct 2012 12:50:24 +0200

univention-samba4 (2.0.13-5) unstable; urgency=low

  * improve error handling and performance of setup-s4.sh (Bug #26731)

 -- Arvid Requate <requate@univention.de>  Tue, 09 Oct 2012 15:16:09 +0200

univention-samba4 (2.0.13-4) unstable; urgency=low

  * make univention-samba4 a little more modular (Bug #26731)
  * fix nmbd workaround (Bug #27457)
  * fix operatingSystem  attribute modification

 -- Arvid Requate <requate@univention.de>  Tue, 09 Oct 2012 13:15:42 +0200

univention-samba4 (2.0.13-3) unstable; urgency=low

  * allow nmbd to start on samba 4 DCs (Bug #27457)

 -- Arvid Requate <requate@univention.de>  Mon, 08 Oct 2012 23:50:02 +0200

univention-samba4 (2.0.13-2) unstable; urgency=low

  * disable internal DNS server (Bug #27457)

 -- Arvid Requate <requate@univention.de>  Mon, 08 Oct 2012 21:49:26 +0200

univention-samba4 (2.0.13-1) unstable; urgency=low

  * Script name adjustment for samba4 rc2 (Bug #27457)

 -- Arvid Requate <requate@univention.de>  Mon, 08 Oct 2012 18:55:50 +0200

univention-samba4 (2.0.12-1) unstable; urgency=low

  * 96univention-samba4.inst prints an error message if a join against
    ldap/master failed (Bug #27469)

 -- Tobias Peters <peters@univention.de>  Tue, 25 Sep 2012 14:29:13 +0200

univention-samba4 (2.0.11-1) unstable; urgency=low

  * fix traceback in scripts/univention-samba4-site-tool.py (Bug #27153)

 -- Tobias Peters <peters@univention.de>  Wed, 12 Sep 2012 09:58:16 +0200

univention-samba4 (2.0.10-5) unstable; urgency=low

  * Backup KRB5 keytab before joining.
  * If the KRB5 key version number increased after the join (usually
    after a full univention-join), merge the old keys into the new
    keytab, so the other DCs can still communicate with us (Bug #25393)

 -- Arvid Requate <requate@univention.de>  Tue, 04 Sep 2012 18:20:08 +0200

univention-samba4 (2.0.10-4) unstable; urgency=low

  * only crate/trigger the DNS application partition on this update
    (Bug #27457)

 -- Arvid Requate <requate@univention.de>  Tue, 04 Sep 2012 14:20:53 +0200

univention-samba4 (2.0.10-3) unstable; urgency=low

  * Call samba_upgradedns in join script on update only on the system
    providing the S4 connector service (Bug #27457)
  * On other DCs trigger replication the new DNS application partitions
  * Only join DCs, RODCs and MEMBERs during initial joinscript run

 -- Arvid Requate <requate@univention.de>  Tue, 04 Sep 2012 14:12:57 +0200

univention-samba4 (2.0.10-1) unstable; urgency=low

  * fix non-critical traceback due to existing operatingSystem attribute
    (Bug #27457)

 -- Arvid Requate <requate@univention.de>  Tue, 04 Sep 2012 13:42:20 +0200

univention-samba4 (2.0.9-1) unstable; urgency=low

  * Fixed python syntax error in 11univention-smb-service (Bug #27457)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 30 Aug 2012 10:36:15 +0200

univention-samba4 (2.0.8-1) unstable; urgency=low

  * disable calling samba_upgradedns on update for testing purposes (Bug #27457)

 -- Arvid Requate <requate@univention.de>  Wed, 29 Aug 2012 19:00:46 +0200

univention-samba4 (2.0.7-3) unstable; urgency=low

  * More support for samba4/service/smb=s3fs, e.g. for print (for Bug #27457)
  * remove unused legacy variable samba4/rpc/endpoint/drsuapi

 -- Arvid Requate <requate@univention.de>  Thu, 23 Aug 2012 18:39:10 +0200

univention-samba4 (2.0.7-2) unstable; urgency=low

  * Adjust create_dns-host_spn (upstream Samba bug 9091 is not fixed yet)
    (Bug #27457)

 -- Arvid Requate <requate@univention.de>  Thu, 23 Aug 2012 16:48:39 +0200

univention-samba4 (2.0.7-1) unstable; urgency=low

  * use machine account on univention-s4search instead of ucs-s4search or
    connector/s4/ldap/binddn (Bug #28279)
  * let joinscript fail if samba-tool domain join fails (Bug #27457)

 -- Arvid Requate <requate@univention.de>  Thu, 23 Aug 2012 13:16:04 +0200

univention-samba4 (2.0.6-1) unstable; urgency=low

  * Remove explicit interfaces/ references (Bug #26058)

 -- Philipp Hahn <hahn@univention.de>  Sat, 18 Aug 2012 12:49:17 +0200

univention-samba4 (2.0.5-4) unstable; urgency=low

  * stop samba4/smbd before s3fs update steps (Bug #27457)

 -- Arvid Requate <requate@univention.de>  Wed, 15 Aug 2012 16:57:50 +0200

univention-samba4 (2.0.5-3) unstable; urgency=low

  * call samba_upgradedns on update (Bug #27457)

 -- Arvid Requate <requate@univention.de>  Wed, 15 Aug 2012 16:48:59 +0200

univention-samba4 (2.0.5-2) unstable; urgency=low

  * fix conditional dbcheck in postinst (Bug #27457)

 -- Arvid Requate <requate@univention.de>  Wed, 15 Aug 2012 16:02:04 +0200

univention-samba4 (2.0.5-1) unstable; urgency=low

  * update versioned depenendcy on samba4 (Bug #27457)

 -- Arvid Requate <requate@univention.de>  Wed, 15 Aug 2012 12:11:14 +0200

univention-samba4 (2.0.4-1) unstable; urgency=low

  * fix traceback in scripts/univention-samba4-site-tool.py
    (Bug #27153)

 -- Arvid Requate <requate@univention.de>  Mon, 13 Aug 2012 15:18:30 +0200

univention-samba4 (2.0.3-2) unstable; urgency=low

  * fix source path for install (Bug #24703)
  * fix small ucslint warnings

 -- Arvid Requate <requate@univention.de>  Mon, 13 Aug 2012 14:10:04 +0200

univention-samba4 (2.0.3-1) unstable; urgency=low

  * activate password rotation for Samba4 DCs (Bug #24703)

 -- Arvid Requate <requate@univention.de>  Mon, 13 Aug 2012 13:52:12 +0200

univention-samba4 (2.0.2-3) unstable; urgency=low

  * fix retrival of univentionShareHost attribute (Bug #27253)

 -- Arvid Requate <requate@univention.de>  Thu, 09 Aug 2012 20:07:00 +0200

univention-samba4 (2.0.2-2) unstable; urgency=low

  * make samba-shares module listen on old value as well.. 
    (Bug #27253)

 -- Arvid Requate <requate@univention.de>  Thu, 09 Aug 2012 19:39:45 +0200

univention-samba4 (2.0.2-1) unstable; urgency=low

  * make samba-shares module listen on current FQDN and eth0 IP
    (Bug #27253)

 -- Arvid Requate <requate@univention.de>  Thu, 09 Aug 2012 19:16:57 +0200

univention-samba4 (2.0.1-4) unstable; urgency=low

  * run dbcheck on updates but backup first (Bug #27457)

 -- Arvid Requate <requate@univention.de>  Wed, 01 Aug 2012 19:46:57 +0200

univention-samba4 (2.0.1-3) unstable; urgency=low

  * fix typo in UCR template (for Bug #27457)

 -- Arvid Requate <requate@univention.de>  Tue, 31 Jul 2012 15:14:48 +0200

univention-samba4 (2.0.1-2) unstable; urgency=low

  * fix newline in ucr template (for Bug #27457)

 -- Arvid Requate <requate@univention.de>  Thu, 26 Jul 2012 17:16:58 +0200

univention-samba4 (2.0.1-1) unstable; urgency=low

  *  Basic support for samba4/service/smb=s3fs (for Bug #27457)

 -- Arvid Requate <requate@univention.de>  Thu, 26 Jul 2012 17:09:38 +0200

univention-samba4 (1.0.179-1) unstable; urgency=low

  * provide default for ldap/server/port in ldapsam passdb backend (Bug #27539)

 -- Arvid Requate <requate@univention.de>  Mon, 16 Jul 2012 11:54:52 +0200

univention-samba4 (1.0.178-1) unstable; urgency=low

  * Test if the password from /etc/machine.secret is the valid password
    for the S4 host account and set it in secrets.ldb if another
    password is set there (Bug #26641)
  * Added a timeout in create_dns-host_spn.py

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 13 Jul 2012 06:54:57 +0200

univention-samba4 (1.0.177-1) unstable; urgency=low

  * create dns SPN account also on upgrade to ucs3.0-2 in postinst (Bug #26641)
  * consolidate ucs3.0-2 update specific code into one block

 -- Arvid Requate <requate@univention.de>  Thu, 12 Jul 2012 17:09:30 +0200

univention-samba4 (1.0.176-1) unstable; urgency=low

  * Set mode to 755 for the sysvol dir (Bug #27249)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 12 Jul 2012 16:40:41 +0200

univention-samba4 (1.0.175-1) unstable; urgency=low

  * Fix sysvol permission during the update (Bug #27249)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 12 Jul 2012 16:02:49 +0200

univention-samba4 (1.0.174-1) unstable; urgency=low

  * Merge changes from UCS@school to UCS 3.0-2,
    s/S3_DOMAIN_SID_FOR_MY_DOMAIN/DOMAIN_SID/ in scripts/setup-s4.sh
    (Bug #26510)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 12 Jul 2012 14:29:38 +0200

univention-samba4 (1.0.173-1) unstable; urgency=low

  * Set default permission for /var/lib/samba/sysvol to 644 (Bug #27249)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 12 Jul 2012 14:23:50 +0200

univention-samba4 (1.0.172-1) unstable; urgency=low

  * remove samba3 startup links for this update and new installations (Bug #26087) 

 -- Felix Botner <botner@univention.de>  Thu, 12 Jul 2012 13:14:09 +0200

univention-samba4 (1.0.171-1) unstable; urgency=low

  * create lowercase samaccountname in create_dns-host_spn.py
    to avoid S4 Connector reject (Bug #26641)

 -- Arvid Requate <requate@univention.de>  Thu, 12 Jul 2012 12:49:20 +0200

univention-samba4 (1.0.170-1) unstable; urgency=low

  * Merge changes from UCS@school to UCS 3.0-2, removed duplicated UCR
    defintion (Bug #26510)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 12 Jul 2012 06:37:45 +0200

univention-samba4 (1.0.169-1) unstable; urgency=low

  * Work around RID pool timing issue in create_dns-host_spn.py
    (Bug #26641)

 -- Arvid Requate <requate@univention.de>  Wed, 11 Jul 2012 22:35:29 +0200

univention-samba4 (1.0.168-1) unstable; urgency=low

  * Fixed unnecessary command and removed false indentation  (Bug #26755)

 -- Tobias Peters <peters@univention.de>  Wed, 11 Jul 2012 16:35:08 +0200

univention-samba4 (1.0.167-1) unstable; urgency=low

  * keep existing machine account in join (Bug #27027)

 -- Arvid Requate <requate@univention.de>  Wed, 11 Jul 2012 14:25:46 +0200

univention-samba4 (1.0.166-1) unstable; urgency=low

  * use ldap/server/port in ldapsam passdb backend (Bug #27539)

 -- Arvid Requate <requate@univention.de>  Wed, 11 Jul 2012 11:31:52 +0200

univention-samba4 (1.0.165-1) unstable; urgency=low

  * remove samba(3) system startup links in postinst script (Bug #26087) 

 -- Felix Botner <botner@univention.de>  Tue, 10 Jul 2012 10:23:33 +0200

univention-samba4 (1.0.164-2) unstable; urgency=low

  * add copyright header to create_dns-host_spn.py (Bug #26641)

 -- Arvid Requate <requate@univention.de>  Mon, 09 Jul 2012 16:59:34 +0200

univention-samba4 (1.0.164-1) unstable; urgency=low

  * create SAM account, SPN and local dns-keytab for dns-$hostname on joined DCs
    just like it is done on a provisioned DC (Bug #26641)

 -- Arvid Requate <requate@univention.de>  Mon, 09 Jul 2012 16:49:31 +0200

univention-samba4 (1.0.163-1) unstable; urgency=low

  * create the propper DomainGUID LDAP SRV record (Bug #26325)

 -- Arvid Requate <requate@univention.de>  Mon, 09 Jul 2012 13:56:56 +0200

univention-samba4 (1.0.162-1) unstable; urgency=low

  * check if samba4 is available on the ldap/master before trying
    to create a site object there (Bug #27497)

 -- Arvid Requate <requate@univention.de>  Mon, 09 Jul 2012 12:58:59 +0200

univention-samba4 (1.0.161-1) unstable; urgency=low

  * New UCR variable samba4/provision/primary to force PDC+GC provision
    (Bug #27513)

 -- Arvid Requate <requate@univention.de>  Mon, 11 Jun 2012 19:54:50 +0200

univention-samba4 (1.0.160-2) unstable; urgency=low

  * Set dns/backend to ldap on purging too (Bug #26135)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 09 Jul 2012 10:58:15 +0200

univention-samba4 (1.0.160-1) unstable; urgency=low

  * Set DNS backend to ldap if univention-samba4 will be removed
    (Bug #26135)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 09 Jul 2012 10:40:46 +0200

univention-samba4 (1.0.159-1) unstable; urgency=low

  * Merge changes from UCS@school to UCS 3.0-2 (Bug #26510)
  * Recreate krb5.keytab on upgrade only (Bug #26510)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 09 Jul 2012 08:01:33 +0200

univention-samba4 (1.0.158-1) unstable; urgency=low

  * Added a simple bash scripts which re creates the /etc/krb5.keytab and
    call the script in postinst and in 96univention-samba4.inst
    (Bug #27426)

 -- Stefan Gohmann <gohmann@univention.de>  Sat, 07 Jul 2012 21:37:07 +0200

univention-samba4 (1.0.157-1) unstable; urgency=low

  * Merge changes from UCS@school to UCS 3.0-2 (Bug #26510)

 -- Stefan Gohmann <gohmann@univention.de>  Sat, 07 Jul 2012 21:24:22 +0200

univention-samba4 (1.0.156-1) unstable; urgency=low

  * Set samba/share/netlogon in 96univention-samba4.inst on DC to yes.
    This prevents s3/s4 upgrade issues (Bug #26305)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 06 Jul 2012 15:12:04 +0200

univention-samba4 (1.0.155-1) unstable; urgency=low

  * if /etc/samba/shares.conf.d does not exist, it is created when setting up a new share (Bug #26146)

 -- Tobias Peters <peters@univention.de>  Fri, 06 Jul 2012 14:53:33 +0200

univention-samba4 (1.0.154-1) unstable; urgency=low

  * changed default value of UCR variable samba/debug/level to 1 (Bug #26755)

 -- Tobias Peters <peters@univention.de>  Fri, 06 Jul 2012 10:01:39 +0200

univention-samba4 (1.0.153-1) unstable; urgency=low

  * add more features to s4search-decode (Bug #27752)

 -- Arvid Requate <requate@univention.de>  Thu, 05 Jul 2012 20:37:43 +0200

univention-samba4 (1.0.152-1) unstable; urgency=low

  * fix kvno in set_machine_secret (Bug #27479)

 -- Arvid Requate <requate@univention.de>  Thu, 05 Jul 2012 11:27:59 +0200

univention-samba4 (1.0.151-1) unstable; urgency=low

  * More adjustements for dns/register/srv_records/kerberos and /ldap
    handling (Bug #27708 and Bug #27395)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 28 Jun 2012 09:38:48 +0200

univention-samba4 (1.0.150-1) unstable; urgency=low

  * call set_machine_secret in setup-s4.sh after samba3upgrade
    (Bug #27479)

 -- Arvid Requate <requate@univention.de>  Wed, 27 Jun 2012 17:26:37 +0200

univention-samba4 (1.0.149-1) unstable; urgency=low

  * Patches merged from UCS@school (Bug #26835):
  * allocate and create a local rid pool in case samba4/service/drepl
    is switched off during join (Bug #25991)
  * shell syntax fix (Bug #25991)
  * improve structure of join script a bit (Bug #25991)
  * make ucslint happy (Bug #25991)
  * New UCR samba4/join/essentialonly for domain-critical-only join
    (Bug #25991)
  * the site object needs to be created before attempting to join it
    (Bug #25991)
  * New UCR variable samba4/join/site selects a site to join to
  * Create subnet object for default network (Bug #25991)

 -- Arvid Requate <requate@univention.de>  Mon, 12 Mar 2012 12:09:19 +0100

univention-samba4 (1.0.148-1) unstable; urgency=low

  * Create default and default.V2 directories in windows-profiles
    (Bug #27373)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 26 Jun 2012 16:11:33 +0200

univention-samba4 (1.0.147-1) unstable; urgency=low

  * Call dnsupdate in local mode (Bug #27708 and Bug #27395)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 25 Jun 2012 08:40:17 +0200

univention-samba4 (1.0.146-1) unstable; urgency=low

  * Consider dns/register/srv_records/kerberos and /ldap UCR variables
    to avoid the DNS registration (Bug #27708 and Bug #27395)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 21 Jun 2012 13:16:22 +0200

univention-samba4 (1.0.145-1) unstable; urgency=low

  * logrotate config for log.samba, log.smbd and log.nmbd (Bug #26376)

 -- Arvid Requate <requate@univention.de>  Wed, 20 Jun 2012 14:12:42 +0200

univention-samba4 (1.0.144-1) unstable; urgency=low

  * don't run join scripts if samba4/disabled is true (Bug #27122) 

 -- Felix Botner <botner@univention.de>  Tue, 19 Jun 2012 12:46:28 +0200

univention-samba4 (1.0.143-1) unstable; urgency=low

  * Usershares can now be configured with UCR (Bug #27525)
  * Usershares are disabled by default (Bug #27524)

 -- Tobias Peters <peters@univention.de>  Fri, 15 Jun 2012 12:16:50 +0200

univention-samba4 (1.0.142-1) unstable; urgency=low

  * Fix fetching the machine secret for search (Bug #27478)
  * Avoid LDAP redirects for ldapmodify (Bug #27498)

 -- Arvid Requate <requate@univention.de>  Thu, 07 Jun 2012 15:01:58 +0200

univention-samba4 (1.0.141-1) unstable; urgency=low

  * also modify ext2 partitions in mount_extfs_with_user_xattr.py (Bug #27466) 

 -- Felix Botner <botner@univention.de>  Thu, 07 Jun 2012 14:38:05 +0200

univention-samba4 (1.0.140-5) unstable; urgency=low

  * fixed unexpected settngs of ucr variables (Bug #26303)

 -- Tobias Peters <peters@univention.de>  Mon, 04 Jun 2012 16:46:40 +0200

univention-samba4 (1.0.139-5) unstable; urgency=low

  * Install pam module again (Bug #27249)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 24 May 2012 09:40:30 +0200

univention-samba4 (1.0.139-4) unstable; urgency=low

  * Make sysvol-sync.sh executable (Bug #27249)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 24 May 2012 07:45:14 +0200

univention-samba4 (1.0.139-3) unstable; urgency=low

  * Create sysvol directory in postinst (Bug #27249)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 24 May 2012 06:59:48 +0200

univention-samba4 (1.0.139-2) unstable; urgency=low

  * Split sysvol sync into a seperate package (Bug #27249)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 23 May 2012 16:14:21 +0200

univention-samba4 (1.0.138-3) unstable; urgency=low

  * version bump (Bug #27122)

 -- Felix Botner <botner@univention.de>  Tue, 15 May 2012 09:27:58 +0200

univention-samba4 (1.0.138-1) unstable; urgency=low

  * don't run join scripts if samba4/disabled is true (Bug #27122)

 -- Felix Botner <botner@univention.de>  Tue, 15 May 2012 09:19:06 +0200

univention-samba4 (1.0.137-1) unstable; urgency=low

  * Create the samba share even if a VFS object was given (Bug #27121)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 15 May 2012 08:17:53 +0200

univention-samba4 (1.0.136-2) unstable; urgency=low

  * Added new UCR variable samba/share/sysvol/readonly to configure
    sysvol share read only (Bug #27030)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 08 May 2012 13:45:10 +0200

univention-samba4 (1.0.135-2) unstable; urgency=low

  * if nscd -i is not enough then restart nscd (Bug #26706)
  * improve error feedback in case etfacl on sysvol fails

 -- Arvid Requate <requate@univention.de>  Thu, 05 Apr 2012 11:53:50 +0200

univention-samba4 (1.0.135-1) unstable; urgency=low

  * invalidate nscd group cache before trying to setfacl on sysvol
  * fail joinscript if setfacl fails (Bug #26706)

 -- Arvid Requate <requate@univention.de>  Wed, 04 Apr 2012 20:17:14 +0200

univention-samba4 (1.0.134-1) unstable; urgency=low

  * remove locale support from critical mount_extfs_with_user_xattr
    script, this must not fail, even if locale is not configured
    properly (Bug #26694).

 -- Arvid Requate <requate@univention.de>  Tue, 03 Apr 2012 09:56:04 +0200

univention-samba4 (1.0.133-2) unstable; urgency=low

  * Check if Samba4 ist provisioned (Bug #26659)

 -- Arvid Requate <requate@univention.de>  Thu, 29 Mar 2012 10:44:18 +0200

univention-samba4 (1.0.133-1) unstable; urgency=low

  * Abort samba3update if there are group names colliding with user names
    (Bug #26291).

 -- Arvid Requate <requate@univention.de>  Wed, 28 Mar 2012 13:22:05 +0200

univention-samba4 (1.0.132-1) unstable; urgency=low

  * Abort samba3update if there are Samba accounts that are not POSIX
    (Bug #26358).
  * add  versioned dependency on python-univention-lib to let errata
    update depend on ucs3.0-1 (Bug #26359).

 -- Arvid Requate <requate@univention.de>  Wed, 28 Mar 2012 12:32:16 +0200

univention-samba4 (1.0.131-4) unstable; urgency=low

  * add dependency on python-univention-lib (Bug #26359).

 -- Arvid Requate <requate@univention.de>  Tue, 27 Mar 2012 14:43:11 +0200

univention-samba4 (1.0.131-3) unstable; urgency=low

  * support multiple languages (Bug #26359).

 -- Arvid Requate <requate@univention.de>  Tue, 27 Mar 2012 14:34:46 +0200

univention-samba4 (1.0.131-2) unstable; urgency=low

  * ucs-lint fixes (Bug #26359).

 -- Arvid Requate <requate@univention.de>  Tue, 27 Mar 2012 14:18:55 +0200

univention-samba4 (1.0.131-1) unstable; urgency=low

  * version bump to avoid collision with ucs-school (Bug #26359)

 -- Arvid Requate <requate@univention.de>  Tue, 27 Mar 2012 14:11:28 +0200

univention-samba4 (1.0.130-1) unstable; urgency=low

  * add translation file (Bug #26359)

 -- Arvid Requate <requate@univention.de>  Tue, 27 Mar 2012 14:09:01 +0200

univention-samba4 (1.0.129-1) unstable; urgency=low

  * The ucs-s4sync is no longer needed (Bug #26197)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 14 Mar 2012 07:39:02 +0100

univention-samba4 (1.0.127-3) unstable; urgency=low

  * revert changes for (Bug #26376)

 -- Arvid Requate <requate@univention.de>  Wed, 07 Mar 2012 18:31:59 +0100

univention-samba4 (1.0.127-2) unstable; urgency=low

  * revert collateral svn checkin (Bug #26376)

 -- Arvid Requate <requate@univention.de>  Tue, 06 Mar 2012 17:39:35 +0100

univention-samba4 (1.0.127-1) unstable; urgency=low

  * Configure logrotate for log.samba etc. (Bug #26376)

 -- Arvid Requate <requate@univention.de>  Tue, 06 Mar 2012 16:42:53 +0100

univention-samba4 (1.0.126-3) unstable; urgency=low

  * Set Samba4 DNS records again also on master and backup
    (Bug #26285)

 -- Arvid Requate <requate@univention.de>  Thu, 01 Mar 2012 09:48:01 +0100

univention-samba4 (1.0.126-2) unstable; urgency=low

  * Set Samba4 DNS records again also on first run of Joinscript
    (Bug #26285)

 -- Arvid Requate <requate@univention.de>  Wed, 29 Feb 2012 19:42:19 +0100

univention-samba4 (1.0.126-1) unstable; urgency=low

  * Set Samba4 DNS records again as remedy for Bug #26285

 -- Arvid Requate <requate@univention.de>  Wed, 29 Feb 2012 19:31:16 +0100

univention-samba4 (1.0.125-1) unstable; urgency=low

  * Fix DNS-Setup skript to support DNS-Domains with more than one dot.
    (Bug #26285)

 -- Arvid Requate <requate@univention.de>  Tue, 28 Feb 2012 16:48:37 +0100

univention-samba4 (1.0.124-1) unstable; urgency=low

  * fixed dependency to univention-lib (Bug #26025) 

 -- Felix Botner <botner@univention.de>  Thu, 23 Feb 2012 11:16:57 +0100

univention-samba4 (1.0.123-1) unstable; urgency=low

  * set the machine.secret in the samba domain join (Bug #24989)

 -- Arvid Requate <requate@univention.de>  Thu, 16 Feb 2012 16:37:25 +0100

univention-samba4 (1.0.122-1) unstable; urgency=low

  * rollback of changes for Bug #24281

 -- Arvid Requate <requate@univention.de>  Thu, 16 Feb 2012 12:38:49 +0100

univention-samba4 (1.0.121-1) unstable; urgency=low

  * add description for samba4/schema/update/allowed (Bug #24630)

 -- Arvid Requate <requate@univention.de>  Tue, 14 Feb 2012 14:58:49 +0100

univention-samba4 (1.0.120-1) unstable; urgency=low

  * keep using the samba4 builtin winbind by default (Bug #24281)

 -- Arvid Requate <requate@univention.de>  Mon, 13 Feb 2012 15:15:17 +0100

univention-samba4 (1.0.119-1) unstable; urgency=low

  * uses univention.lib.listenerSharePath.createOrRename()
    to create or rename share path in samba-shares.py
  * added modrdn support in samba-shares.py
    (Bug #26025)

 -- Felix Botner <botner@univention.de>  Thu, 09 Feb 2012 10:01:22 +0100

univention-samba4 (1.0.118-2) unstable; urgency=low

  * depend on univention-samba-local-config (Bug #25978)

 -- Arvid Requate <requate@univention.de>  Mon, 06 Feb 2012 12:26:52 +0100

univention-samba4 (1.0.118-1) unstable; urgency=low

  * don't ship 95univention-samba_local_config, it's provided by
    univention-samba-local-config (Bug #25978)

 -- Arvid Requate <requate@univention.de>  Mon, 06 Feb 2012 12:15:57 +0100

univention-samba4 (1.0.117-1) unstable; urgency=low

  * allow DRS client service and DRSUAPI server endpoint deactivation
    (Bug #25989)

 -- Arvid Requate <requate@univention.de>  Mon, 06 Feb 2012 10:53:06 +0100

univention-samba4 (1.0.116-4) unstable; urgency=low

  * add regular winbind restart code to univention-samba4.postinst
  * set executable mode for /etc/init.d/winbind (Bug #24281)

 -- Arvid Requate <requate@univention.de>  Thu, 02 Feb 2012 17:45:12 +0100

univention-samba4 (1.0.116-3) unstable; urgency=low

  * unset winbind/autostart in postinst if it was disabled (Bug #24281)

 -- Arvid Requate <requate@univention.de>  Thu, 02 Feb 2012 16:54:55 +0100

univention-samba4 (1.0.116-2) unstable; urgency=low

  * add copyright header to winbind init script (Bug #24281)

 -- Arvid Requate <requate@univention.de>  Thu, 02 Feb 2012 14:51:09 +0100

univention-samba4 (1.0.116-1) unstable; urgency=low

  * init script for source3/winbindd taken from samba source package
    including univention patches
  * new UCR variable samba4/service/winbind?'winbindd' disables the
    samba4-builtin winbind service and makes source3/winbindd start
  * start source3/winbindd at the end of the join script (Bug #24281)

 -- Arvid Requate <requate@univention.de>  Thu, 02 Feb 2012 14:35:13 +0100

univention-samba4 (1.0.115-2) unstable; urgency=low

  * improve error feedback in univention-s4search and s4search-decode
    (Bug #26016)

 -- Arvid Requate <requate@univention.de>  Thu, 02 Feb 2012 14:33:37 +0100

univention-samba4 (1.0.115-1) unstable; urgency=low

  * Block schema updates by default (Bug #24630)
  * configurable via UCR variable samba4/schema/update/allowed

 -- Arvid Requate <requate@univention.de>  Mon, 02 Jan 2012 12:30:51 +0100

univention-samba4 (1.0.114-1) unstable; urgency=low

  * If the first domain join fails try the next join against samba4/dc
    or ldap/master (Bug #25343)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 08 Dec 2011 21:23:48 +0100

univention-samba4 (1.0.113-1) unstable; urgency=low

  * configure the vfs module acl_xattr for all file shares if
    samba4/ntacl/backend is set to the default 'native' (Bug #25248)

 -- Arvid Requate <requate@univention.de>  Wed, 07 Dec 2011 15:16:33 +0100

univention-samba4 (1.0.112-5) unstable; urgency=low

  * always require credentials when we are not the first samba4 DC
    (Bug #22866)

 -- Arvid Requate <requate@univention.de>  Wed, 30 Nov 2011 19:48:37 +0100

univention-samba4 (1.0.112-4) unstable; urgency=low

  * extract_binddn_and_bindpwd_from_args earlier (Bug #22866)

 -- Arvid Requate <requate@univention.de>  Wed, 30 Nov 2011 19:32:23 +0100

univention-samba4 (1.0.112-3) unstable; urgency=low

  * only abort joinscript on UCS Master if no credentals are available
    (Bug #22866)

 -- Arvid Requate <requate@univention.de>  Wed, 30 Nov 2011 13:55:05 +0100

univention-samba4 (1.0.112-2) unstable; urgency=low

  * fix bashism (Bug #22866).

 -- Arvid Requate <requate@univention.de>  Wed, 30 Nov 2011 13:18:45 +0100

univention-samba4 (1.0.112-1) unstable; urgency=low

  * abort joinscript on UCS Master if it is not the first Samba4 DC
    found in the domain (Bug #22866).

 -- Arvid Requate <requate@univention.de>  Wed, 30 Nov 2011 12:35:57 +0100

univention-samba4 (1.0.111-2) unstable; urgency=low

  * fix broken indentation (Bug #23917)

 -- Arvid Requate <requate@univention.de>  Tue, 22 Nov 2011 12:01:59 +0100

univention-samba4 (1.0.111-1) unstable; urgency=low

  * activate the remove branch in samba4-idmap handler (Bug #23917)

 -- Arvid Requate <requate@univention.de>  Tue, 22 Nov 2011 11:44:41 +0100

univention-samba4 (1.0.110-1) unstable; urgency=low

  * fixed logrotate template (Bug #18002) 

 -- Felix Botner <botner@univention.de>  Mon, 21 Nov 2011 09:36:10 +0100

univention-samba4 (1.0.109-1) unstable; urgency=low

  * In some cases samba4 and bind9 need a restart to complete
    (Bug #21213)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 18 Nov 2011 16:21:47 +0100

univention-samba4 (1.0.108-1) unstable; urgency=low

  * Rename samba4/debug/level to samba/debug/level (Bug #23929)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 18 Nov 2011 10:01:32 +0100

univention-samba4 (1.0.107-1) unstable; urgency=low

  * Disable password rotation on S4 DCs (Bug #21213)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 17 Nov 2011 16:47:40 +0100

univention-samba4 (1.0.106-2) unstable; urgency=low

  * migrate-sid.py: Use machine connection if ldap.serect is not
    available (Bug #24246)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 16 Nov 2011 21:07:51 +0100

univention-samba4 (1.0.106-1) unstable; urgency=low

  * Added tool migrate-sid.py to migrate univentionSamba4SID to sambaSID
    (Bug #24246)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 16 Nov 2011 21:00:41 +0100

univention-samba4 (1.0.105-2) unstable; urgency=low

  * Added simple s4search-decode script from Arvid (Bug #21213)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 16 Nov 2011 11:37:14 +0100

univention-samba4 (1.0.105-1) unstable; urgency=low

  * merge additional code from univention-samba joinscript (Bug #22865):
  * print driver directory creation
  * share container creation

 -- Arvid Requate <requate@univention.de>  Tue, 15 Nov 2011 13:09:56 +0100

univention-samba4 (1.0.104-1) unstable; urgency=low

  * Force group for sysvol to Authenticated Users (Bug #24288)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 15 Nov 2011 08:10:16 +0100

univention-samba4 (1.0.103-1) unstable; urgency=low

  * Give Authenticated Users read access to sysvol share (Bug #24288)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 14 Nov 2011 22:03:08 +0100

univention-samba4 (1.0.102-2) unstable; urgency=low

  * Move Authenticated Users creation to univention-ldap (Bug #24288)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 14 Nov 2011 15:30:28 +0100

univention-samba4 (1.0.102-1) unstable; urgency=low

  * Set well known sid to cn=Authenticated Users (Bug #24288)
  * Rename Builtin Users to Authenticated Users

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 14 Nov 2011 14:07:29 +0100

univention-samba4 (1.0.101-2) unstable; urgency=low

  * set samba4/sysvol/sync/cron to one minute (Bug #24163)

 -- Arvid Requate <requate@univention.de>  Thu, 10 Nov 2011 15:05:36 +0100

univention-samba4 (1.0.101-1) unstable; urgency=low

  * Run sysvol-sync every minute (Bug #24163)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 10 Nov 2011 13:34:42 +0100

univention-samba4 (1.0.100-1) unstable; urgency=low

  * Create group 'Builtin Users' to handle sysvol permissions (Bug #24163)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 10 Nov 2011 13:01:13 +0100

univention-samba4 (1.0.99-2) unstable; urgency=low

  * force mode options are not honored by smbd, ude force group instead
    (Bug #24288)

 -- Arvid Requate <requate@univention.de>  Thu, 10 Nov 2011 11:31:47 +0100

univention-samba4 (1.0.99-1) unstable; urgency=low

  * additional create masks for sysvol (Bug #24288)

 -- Arvid Requate <requate@univention.de>  Thu, 10 Nov 2011 10:46:29 +0100

univention-samba4 (1.0.98-1) unstable; urgency=low

  * after samba3upgrade set the Administrator password to samba4.secret
    (Bug #22866)

 -- Arvid Requate <requate@univention.de>  Wed, 09 Nov 2011 18:35:47 +0100

univention-samba4 (1.0.97-1) unstable; urgency=low

  * renew fACLs for 'DC Slave Hosts' on all sysvol files
    on each run of sysvol-sync (Bug #24163)

 -- Arvid Requate <requate@univention.de>  Wed, 09 Nov 2011 14:50:13 +0100

univention-samba4 (1.0.96-1) unstable; urgency=low

  * fix host parsing for IPv6 (Bug #24479)

 -- Janek Walkenhorst <walkenhorst@univention.de>  Wed, 09 Nov 2011 13:51:46 +0100

univention-samba4 (1.0.95-1) unstable; urgency=low

  * pass credentials to setup-s4 for samba3upgrade case
  * add group descriptions in setup-s4 for samba3upgrade (Bug #22866)

 -- Arvid Requate <requate@univention.de>  Wed, 09 Nov 2011 13:07:35 +0100

univention-samba4 (1.0.94-4) unstable; urgency=low

  * initialize the sysvol with default ACL for 'DC Slave Hosts'
    on alls DCs and RODCs in joinscript (Bug #24163)

 -- Arvid Requate <requate@univention.de>  Tue, 08 Nov 2011 17:40:18 +0100

univention-samba4 (1.0.94-3) unstable; urgency=low

  * move pam_univentionsambadomain.c into pam session part (Bug #22865)

 -- Arvid Requate <requate@univention.de>  Tue, 08 Nov 2011 17:04:38 +0100

univention-samba4 (1.0.94-2) unstable; urgency=low

  * fix path to samba3 smb.conf template for samba3upgrade (Bug #22866)

 -- Arvid Requate <requate@univention.de>  Tue, 08 Nov 2011 15:57:06 +0100

univention-samba4 (1.0.94-1) unstable; urgency=low

  * create /var/lib/samba3/etc/samba directory (Bug #22866)
  * ship pam stack for samba (Bug #22865)
  * retab pam_univentionsambadomain.c

 -- Arvid Requate <requate@univention.de>  Tue, 08 Nov 2011 14:39:10 +0100

univention-samba4 (1.0.93-1) unstable; urgency=low

  * add pam_univentionsambadomain.c (Bug #22865)

 -- Arvid Requate <requate@univention.de>  Tue, 08 Nov 2011 14:08:35 +0100

univention-samba4 (1.0.92-1) unstable; urgency=low

  * ship samba3 smb.conf template files for samba3upgrade (Bug #22866)

 -- Arvid Requate <requate@univention.de>  Tue, 08 Nov 2011 13:47:25 +0100

univention-samba4 (1.0.91-2) unstable; urgency=low

  * pull sysvol upstream to conserve file ownerships (Bug #24288)
  * pulling sysvol should also conserve xattrs (Bug #24163)
  * initialize the sysvol with default ACL for 'DC Slave Hosts'

 -- Arvid Requate <requate@univention.de>  Tue, 08 Nov 2011 12:54:41 +0100

univention-samba4 (1.0.91-1) unstable; urgency=low

  * dump and restore xattrs in upstream sysvol push (Bug #24163)
  * depend on winbind4

 -- Arvid Requate <requate@univention.de>  Tue, 08 Nov 2011 12:26:53 +0100

univention-samba4 (1.0.90-1) unstable; urgency=low

  * Adjust OpenLDAP ports after running the provision / samba3upgrade
    as samba3upgrade needs the ldapsam backend (Bug #22866)

 -- Arvid Requate <requate@univention.de>  Mon, 07 Nov 2011 19:27:51 +0100

univention-samba4 (1.0.89-2) unstable; urgency=low

  * adjust setup-s4 case for update szenario 2 (Bug #22866)

 -- Arvid Requate <requate@univention.de>  Mon, 07 Nov 2011 19:17:59 +0100

univention-samba4 (1.0.89-1) unstable; urgency=low

  * Use -x for ldapsearch in 96univention-samba4.inst
  * Some more updates on S3 / S4 determination (Bug #22866)

 -- Stefan Gohmann <gohmann@univention.de>  Sat, 05 Nov 2011 11:56:30 +0100

univention-samba4 (1.0.88-1) unstable; urgency=low

  * Search for S3 DCs instead of search for the samba domain object to
    determine if we are in a S3 environment. The samba object will be
    created in 01univention-ldap.inst as part of the base.ldif
    (Bug #22866)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 04 Nov 2011 06:22:51 +0100

univention-samba4 (1.0.87-2) unstable; urgency=low

  * backup samba3 libdir and config in postinst before committing ucr
    (Bug #22866)

 -- Arvid Requate <requate@univention.de>  Thu, 03 Nov 2011 19:52:28 +0100

univention-samba4 (1.0.87-1) unstable; urgency=low

  * add samba3upgrade case to setup-s4.sh (Bug #22866)

 -- Arvid Requate <requate@univention.de>  Thu, 03 Nov 2011 19:28:19 +0100

univention-samba4 (1.0.86-1) unstable; urgency=low

  * issue deprecated option "use spnego" only if UCR is non default
    (Bug #22865)

 -- Arvid Requate <requate@univention.de>  Thu, 03 Nov 2011 12:05:36 +0100

univention-samba4 (1.0.85-1) unstable; urgency=low

  * Register IPv4 and IPv6 addresses for the forward zone (Bug #24348)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 03 Nov 2011 08:03:30 +0100

univention-samba4 (1.0.84-1) unstable; urgency=low

  * Change the dns/backend to samba4 only whether a S4 Connector is
    installed in our domain (Bug #24274)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 31 Oct 2011 11:02:26 +0100

univention-samba4 (1.0.83-1) unstable; urgency=low

  * samba4-idmap.py: Don't count on that the old object has a sambaSID
    (Bug #24225)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 28 Oct 2011 06:14:03 +0200

univention-samba4 (1.0.82-1) unstable; urgency=low

  * Fixed python error in samba4-idmap.py (Bug #24225)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 27 Oct 2011 18:26:14 +0200

univention-samba4 (1.0.81-1) unstable; urgency=low

  * If connector/s4/mapping/sid is set to false, use the SID from
    univentionSamba4SID (Bug #24225)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 27 Oct 2011 17:52:38 +0200

univention-samba4 (1.0.80-1) unstable; urgency=low

  * Use nmbd as NetBIOS name server (Bug #24191)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 27 Oct 2011 14:01:02 +0200

univention-samba4 (1.0.79-1) unstable; urgency=low

  * retrive S3_DOMAIN_SID only for windows/domain
  * support the case where S3_DOMAIN_SID cannot be determined (Bug #22866)

 -- Arvid Requate <requate@univention.de>  Tue, 25 Oct 2011 16:55:45 +0200

univention-samba4 (1.0.78-2) unstable; urgency=low

  * Added dependency to univention-directory-manager-tools (Bug #23342)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 25 Oct 2011 15:33:06 +0200

univention-samba4 (1.0.78-1) unstable; urgency=low

  * workaround for PEP 366 (Bug #23984)

 -- Arvid Requate <requate@univention.de>  Tue, 25 Oct 2011 13:21:45 +0200

univention-samba4 (1.0.77-1) unstable; urgency=low

  * Give DC Backup Hosts read permissions for /etc/samba4.secret
    (Bug #22861)
  * Set description for firewall port 1024
  * Open Kerberos ports for Samba 4

 -- Stefan Gohmann <gohmann@univention.de>  Sun, 23 Oct 2011 20:17:57 +0200

univention-samba4 (1.0.76-1) unstable; urgency=low

  * Added kerberos ports (Bug #23929)

 -- Stefan Gohmann <gohmann@univention.de>  Sun, 23 Oct 2011 00:35:59 +0200

univention-samba4 (1.0.75-1) unstable; urgency=low

  * AD needs some more open ports (Bug #23929)

 -- Stefan Gohmann <gohmann@univention.de>  Sun, 23 Oct 2011 00:01:25 +0200

univention-samba4 (1.0.74-1) unstable; urgency=low

  * Fixed error in 98univention-samba4-dns.inst from last commit 
    (Bug #24129)

 -- Stefan Gohmann <gohmann@univention.de>  Sat, 22 Oct 2011 21:45:17 +0200

univention-samba4 (1.0.73-1) unstable; urgency=low

  * Don't wait endless for bind with samba4 as backend. Exit after 10
    minutes with an error (Bug #24129)

 -- Stefan Gohmann <gohmann@univention.de>  Sat, 22 Oct 2011 20:48:39 +0200

univention-samba4 (1.0.72-2) unstable; urgency=low

  * Fix dependencies on u-c (Bug #22668)

 -- Philipp Hahn <hahn@univention.de>  Sat, 22 Oct 2011 04:11:27 +0200

univention-samba4 (1.0.72-1) unstable; urgency=low

  * commit smb.conf after creation of shares.conf (Bug #22865)

 -- Arvid Requate <requate@univention.de>  Thu, 20 Oct 2011 17:39:29 +0200

univention-samba4 (1.0.71-6) unstable; urgency=low

  * fix vim typo (Bug #23917)

 -- Arvid Requate <requate@univention.de>  Thu, 20 Oct 2011 13:21:55 +0200

univention-samba4 (1.0.71-5) unstable; urgency=low

  * convert sambaSid to objecSid NDR format (Bug #23917)

 -- Arvid Requate <requate@univention.de>  Thu, 20 Oct 2011 13:03:04 +0200

univention-samba4 (1.0.71-4) unstable; urgency=low

  * fix rename_or_modify in samba4-sync module (Bug #23917)

 -- Arvid Requate <requate@univention.de>  Thu, 20 Oct 2011 12:24:34 +0200

univention-samba4 (1.0.71-3) unstable; urgency=low

  * add rename_or_modify to samba4-sync module (Bug #23917)

 -- Arvid Requate <requate@univention.de>  Thu, 20 Oct 2011 10:35:31 +0200

univention-samba4 (1.0.71-2) unstable; urgency=low

  * handle sambaSid changes in samba4-sync module (Bug #23917)

 -- Arvid Requate <requate@univention.de>  Wed, 19 Oct 2011 20:51:03 +0200

univention-samba4 (1.0.71-1) unstable; urgency=low

  * use tee to send logfile output of setup-s4.sh to screen (Bug #23917)

 -- Arvid Requate <requate@univention.de>  Wed, 19 Oct 2011 19:06:30 +0200

univention-samba4 (1.0.70-1) unstable; urgency=low

  * updated postinst (Bug #23577)

 -- Sönke Schwardt-Krummrich <schwardt@univention.de>  Wed, 19 Oct 2011 17:56:12 +0200

univention-samba4 (1.0.69-5) unstable; urgency=low

  * use explicit python version in python shebang (Bug #23917)

 -- Arvid Requate <requate@univention.de>  Wed, 19 Oct 2011 17:56:22 +0200

univention-samba4 (1.0.69-4) unstable; urgency=low

  * add script functionality to the samba4-sync module (Bug #23917)
  * replace resync of listener module by direct run of samba4-sync

 -- Arvid Requate <requate@univention.de>  Wed, 19 Oct 2011 17:45:46 +0200

univention-samba4 (1.0.69-3) unstable; urgency=low

  * check if uid/gid was modified at all in samba4-idmap (Bug #23917)
  * make samba4-idmap robust against removal of idmap.ldb
  * resync the listener module after provision/join
  * adjust samba-tool domain join to new cli api (Bug #23929)

 -- Arvid Requate <requate@univention.de>  Wed, 19 Oct 2011 00:31:14 +0200

univention-samba4 (1.0.69-2) unstable; urgency=low

  * add attribute filter to samba4-idmap (Bug #23917)

 -- Arvid Requate <requate@univention.de>  Tue, 18 Oct 2011 20:08:06 +0200

univention-samba4 (1.0.69-1) unstable; urgency=low

  * handle idmap open error (Bug #23917)
  * don't remove idmap entries automatically, only add and update them

 -- Arvid Requate <requate@univention.de>  Tue, 18 Oct 2011 19:14:47 +0200

univention-samba4 (1.0.68-1) unstable; urgency=low

  * avoid calling 98univention-samba4-dns.inst in postinst, in case
    the S4 Connector did not run at that time (Bug #23786)

 -- Arvid Requate <requate@univention.de>  Tue, 18 Oct 2011 18:39:27 +0200

univention-samba4 (1.0.67-1) unstable; urgency=low

  * added firewall settings (Bug #23577)

 -- Sönke Schwardt-Krummrich <schwardt@univention.de>  Tue, 18 Oct 2011 15:14:36 +0200

univention-samba4 (1.0.66-2) unstable; urgency=low

  * svn add samba4-idmap (Bug #23917)

 -- Arvid Requate <requate@univention.de>  Tue, 18 Oct 2011 13:13:10 +0200

univention-samba4 (1.0.66-1) unstable; urgency=low

  * add listener module samba4-idmap (Bug #23917)

 -- Arvid Requate <requate@univention.de>  Tue, 18 Oct 2011 13:06:19 +0200

univention-samba4 (1.0.65-5) unstable; urgency=low

  * fix typo in joinscript call (Bug #23786)

 -- Arvid Requate <requate@univention.de>  Mon, 17 Oct 2011 17:29:34 +0200

univention-samba4 (1.0.65-4) unstable; urgency=low

  * adjust samba-shares.py to samba4 (Bug #22865)
  * remove more samba/ha/master support from samba-shares

 -- Arvid Requate <requate@univention.de>  Mon, 17 Oct 2011 14:58:06 +0200

univention-samba4 (1.0.65-3) unstable; urgency=low

  * svn add samba-shares.py (Bug #22865)
  * remove samba/ha/master support from samba-shares

 -- Arvid Requate <requate@univention.de>  Mon, 17 Oct 2011 11:12:08 +0200

univention-samba4 (1.0.65-2) unstable; urgency=low

  * add samba-shares listener from univention-samba (Bug #22865)
  * output ldbsearch stderr in univention-s4search again

 -- Arvid Requate <requate@univention.de>  Mon, 17 Oct 2011 10:55:40 +0200

univention-samba4 (1.0.65-1) unstable; urgency=low

  * Call 98univention-samba4.dns.inst in postinst (Bug #23786)

 -- Stefan Gohmann <gohmann@univention.de>  Sun, 16 Oct 2011 20:00:11 +0200

univention-samba4 (1.0.64-1) unstable; urgency=low

  * Added eval ucr shell to 98univention-samba4-dns.inst (Bug #23786)

 -- Stefan Gohmann <gohmann@univention.de>  Sun, 16 Oct 2011 12:35:36 +0200

univention-samba4 (1.0.63-1) unstable; urgency=low

  * Give join scripts execute permissions (Bug #23786)

 -- Stefan Gohmann <gohmann@univention.de>  Sun, 16 Oct 2011 09:34:08 +0200

univention-samba4 (1.0.62-1) unstable; urgency=low

  * Activate samba4 bind backend in a new join script. First the
    connector must be configured (Bug #23786)

 -- Stefan Gohmann <gohmann@univention.de>  Sat, 15 Oct 2011 21:41:53 +0200

univention-samba4 (1.0.61-1) unstable; urgency=low

  * samba-dsdb-modules is required to make the provision work
    (Bug #23929)

 -- Stefan Gohmann <gohmann@univention.de>  Sat, 15 Oct 2011 20:08:43 +0200

univention-samba4 (1.0.60-9) unstable; urgency=low

  * use the NTACL that provision sets for sysvol (Bug #22865)
  * use the same NTACL on the non-provision DCs

 -- Arvid Requate <requate@univention.de>  Thu, 13 Oct 2011 14:49:12 +0200

univention-samba4 (1.0.60-8.3) unstable; urgency=low

  * set same options for sysvol share as for netlogon (Bug #22865)
  * use ldbsearch --debug-stderr 2>/dev/null in univention-s4search

 -- Arvid Requate <requate@univention.de>  Thu, 13 Oct 2011 14:18:03 +0200

univention-samba4 (1.0.60-8.2) unstable; urgency=low

  * adjust samba-tool domain join to new cli api (Bug #23929)

 -- Arvid Requate <requate@univention.de>  Thu, 13 Oct 2011 10:46:14 +0200

univention-samba4 (1.0.60-8.1) unstable; urgency=low

  * Fixed traceback in smb.conf (Bug #22865)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 13 Oct 2011 07:10:15 +0200

univention-samba4 (1.0.60-7) unstable; urgency=low

  * register renamed template subfile (Bug #22865)

 -- Arvid Requate <requate@univention.de>  Wed, 12 Oct 2011 20:03:25 +0200

univention-samba4 (1.0.60-6) unstable; urgency=low

  * straighten smb.conf and base.conf a bit (Bug #22865)

 -- Arvid Requate <requate@univention.de>  Wed, 12 Oct 2011 19:12:09 +0200

univention-samba4 (1.0.60-5) unstable; urgency=low

  * remove reference to uncommited etc/named/samba4.conf (Bug #22865)

 -- Arvid Requate <requate@univention.de>  Wed, 12 Oct 2011 18:34:04 +0200

univention-samba4 (1.0.60-4) unstable; urgency=low

  * svn add 95univention-samba_local_config (Bug #22865)

 -- Arvid Requate <requate@univention.de>  Wed, 12 Oct 2011 18:29:27 +0200

univention-samba4 (1.0.60-3) unstable; urgency=low

  * add [homes], [printers] and [print$] shares (Bug #22865)
  * add template sections and options from univention-samba
    print them only if samba4/service/smb is 'smbd'
  * set ucr variable defaults as in univention-samba
  * register and add UCR header to etc/named/samba4.conf

 -- Arvid Requate <requate@univention.de>  Wed, 12 Oct 2011 16:27:02 +0200

univention-samba4 (1.0.60-2) unstable; urgency=low

  * adjust scripts/sysvol-sync.sh call to new samba-tool api (Bug #22865)

 -- Arvid Requate <requate@univention.de>  Wed, 12 Oct 2011 15:28:40 +0200

univention-samba4 (1.0.60-1) unstable; urgency=low

  * configure samba4/service/smb?'smbd' (Bug #22865)
  * configure samba4/ntacl/backend?'native', i.e. use xattr to
    store NTACL. The alternative 'tdb' currently has compatibility issues
    between the source3 vfs module acl_tdb and the source4 posix:eadb
  * mount_extfs_with_user_xattr.py in join script

 -- Arvid Requate <requate@univention.de>  Wed, 12 Oct 2011 10:54:00 +0200

univention-samba4 (1.0.59-1) unstable; urgency=low

  * added logrotate configuration (Bug #18002) 

 -- Felix Botner <botner@univention.de>  Wed, 12 Oct 2011 11:40:19 +0200

univention-samba4 (1.0.58-1) unstable; urgency=low

  * Updates on S3 / S4 mix setups (Bug #24000)
  * Added samba4/autostart handling
  * Added univention-service file

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 11 Oct 2011 07:01:24 +0200

univention-samba4 (1.0.57-1) unstable; urgency=low

  * Removed dependency to eth0 (Bug #10825)

 -- Stefan Gohmann <gohmann@univention.de>  Sat, 08 Oct 2011 08:17:57 +0200

univention-samba4 (1.0.56-2) unstable; urgency=low

  * enable sysvol-sync cron-job only if samba4/sysvol/sync/cron is set
  * set samba4/sysvol/sync/cron in joinscript instead of in postinst
    (Bug #23359)

 -- Arvid Requate <requate@univention.de>  Tue, 04 Oct 2011 16:28:04 +0200

univention-samba4 (1.0.56-1) unstable; urgency=low

  * run sysvol-sync commands only if system was joined (Bug #23359)

 -- Arvid Requate <requate@univention.de>  Tue, 04 Oct 2011 11:35:57 +0200

univention-samba4 (1.0.55-1) unstable; urgency=low

  * register only first DC as PDC emulator (Bug #23874)

 -- Arvid Requate <requate@univention.de>  Thu, 29 Sep 2011 17:38:00 +0200

univention-samba4 (1.0.54-5) unstable; urgency=low

  * xattr emulation can be deactivated by UCR:samba4/xattr=true
  * set ntacl on the sysvol folder only once after join (Bug #23359)

 -- Arvid Requate <requate@univention.de>  Thu, 29 Sep 2011 13:35:25 +0200

univention-samba4 (1.0.54-4) unstable; urgency=low

  * install *.py scripts as well (Bug #23359)

 -- Arvid Requate <requate@univention.de>  Thu, 29 Sep 2011 13:22:08 +0200

univention-samba4 (1.0.54-3) unstable; urgency=low

  * set ntacl of imported folders from sysvol, more efficient (Bug #23359)

 -- Arvid Requate <requate@univention.de>  Thu, 29 Sep 2011 12:35:47 +0200

univention-samba4 (1.0.54-2) unstable; urgency=low

  * add copyright notice (Bug #23359)

 -- Arvid Requate <requate@univention.de>  Thu, 29 Sep 2011 12:22:43 +0200

univention-samba4 (1.0.54-1) unstable; urgency=low

  * set ntacl on sysvol using xattr emulation for now (Bug #23359)

 -- Arvid Requate <requate@univention.de>  Thu, 29 Sep 2011 11:32:59 +0200

univention-samba4 (1.0.53-2) unstable; urgency=low

  * fix syntax error (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Wed, 28 Sep 2011 17:51:25 +0200

univention-samba4 (1.0.53-1) unstable; urgency=low

  * RODCs should only offer read only sysvol and netlogon (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Wed, 28 Sep 2011 16:41:45 +0200

univention-samba4 (1.0.52-1) unstable; urgency=low

  * On RODCs register only specific DNS reords (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Wed, 28 Sep 2011 16:21:25 +0200

univention-samba4 (1.0.51-1) unstable; urgency=low

  * disable sysvol share on samba4/role=MEMBER (Bug #23570)

 -- Arvid Requate <requate@univention.de>  Wed, 28 Sep 2011 16:17:24 +0200

univention-samba4 (1.0.50-1) unstable; urgency=low

  * configure smb.conf according to samba4/role
  * add RODC support to joinscript (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Wed, 28 Sep 2011 15:04:24 +0200

univention-samba4 (1.0.49-1) unstable; urgency=low

  * add options to setup-dns-in-ucsldap allowing to add DNS records
    specific for DC, RODC, GC, ROGC and the PDC emulator respectively
    (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Wed, 28 Sep 2011 14:35:00 +0200

univention-samba4 (1.0.48-1) unstable; urgency=low

  * start samba daemon before modifying secrets.ldb, trying to cure
    Bug #22963 Comment 3

 -- Arvid Requate <requate@univention.de>  Mon, 26 Sep 2011 09:50:28 +0200

univention-samba4 (1.0.47-3) unstable; urgency=low

  * use samba4/debug/level instead of samba/debug/level (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Mon, 26 Sep 2011 09:37:19 +0200

univention-samba4 (1.0.47-2) unstable; urgency=low

  * increase default for samba/debug/level (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Mon, 26 Sep 2011 09:34:42 +0200

univention-samba4 (1.0.47-1) unstable; urgency=low

  * fix modification of attribute operatingSystem on master (Bug #23158)

 -- Arvid Requate <requate@univention.de>  Mon, 26 Sep 2011 09:32:56 +0200

univention-samba4 (1.0.46-1) unstable; urgency=low

  * Don't use samba4 as dns/backend. This will break the DRS replication
    (Bug #23786)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 23 Sep 2011 08:35:47 +0200

univention-samba4 (1.0.45-1) unstable; urgency=low

  * call univention-dnsedit with join credentials (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Wed, 21 Sep 2011 19:04:17 +0200

univention-samba4 (1.0.44-2) unstable; urgency=low

  * add operatingSystem attribute also after join (Bug #23158)
  * fix sysvol-sync.sh (Bug #23359)

 -- Arvid Requate <requate@univention.de>  Wed, 21 Sep 2011 18:28:49 +0200

univention-samba4 (1.0.44-1) unstable; urgency=low

  * fix path in crontab entry (Bug #23158)

 -- Arvid Requate <requate@univention.de>  Wed, 21 Sep 2011 18:06:45 +0200

univention-samba4 (1.0.43-1) unstable; urgency=low

  * set operatingSystem attribute after provision (Bug #23158)

 -- Arvid Requate <requate@univention.de>  Wed, 21 Sep 2011 17:57:41 +0200

univention-samba4 (1.0.42-1) unstable; urgency=low

  * remove "Replaces" approach for univention-heimdal-kdc (Bug #22600)

 -- Arvid Requate <requate@univention.de>  Wed, 21 Sep 2011 16:23:56 +0200

univention-samba4 (1.0.41-4) unstable; urgency=low

  * add cron.d file (Bug #23359)

 -- Arvid Requate <requate@univention.de>  Wed, 21 Sep 2011 15:54:37 +0200

univention-samba4 (1.0.41-3) unstable; urgency=low

  * fix name of samba4/sysvol/sync/cron (Bug #23359)

 -- Arvid Requate <requate@univention.de>  Wed, 21 Sep 2011 15:39:18 +0200

univention-samba4 (1.0.41-2) unstable; urgency=low

  * sysvol replication cronjob (Bug #23359)

 -- Arvid Requate <requate@univention.de>  Wed, 21 Sep 2011 15:13:40 +0200

univention-samba4 (1.0.41-1) unstable; urgency=low

  * updated sketch of sysvol replication scripts (Bug #23359)

 -- Arvid Requate <requate@univention.de>  Wed, 21 Sep 2011 11:59:30 +0200

univention-samba4 (1.0.40-1) unstable; urgency=low

  * The DRS replication must be complete, at least the DC master must be
    available via DNS (Bug #23168)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 20 Sep 2011 19:41:28 +0200

univention-samba4 (1.0.39-1) experimental; urgency=low

  * initial sketch of sysvol replication scripts (Bug #23359)

 -- Arvid Requate <requate@univention.de>  Tue, 20 Sep 2011 19:21:06 +0200

univention-samba4 (1.0.38-6) experimental; urgency=low

  * new UCR variable samba4/role (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Tue, 20 Sep 2011 10:55:19 +0200

univention-samba4 (1.0.38-5) experimental; urgency=low

  * set samba4_function_level on first DC (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Tue, 20 Sep 2011 10:25:32 +0200

univention-samba4 (1.0.38-4) experimental; urgency=low

  * Use $samba4_function_level instead of samba4_function_level (Bug #23360)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 19 Sep 2011 21:36:43 +0200

univention-samba4 (1.0.38-3) experimental; urgency=low

  * currently homes/groups/printers shares are not provided (Bug #23570)

 -- Arvid Requate <requate@univention.de>  Mon, 19 Sep 2011 17:06:58 +0200

univention-samba4 (1.0.38-2) experimental; urgency=low

  * revert last change (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Mon, 19 Sep 2011 15:23:45 +0200

univention-samba4 (1.0.38-1) experimental; urgency=low

  * provide template for samba4 init script customization (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Mon, 19 Sep 2011 15:06:03 +0200

univention-samba4 (1.0.37-2) experimental; urgency=low

  * rename samba/function/level to samba4/function/level (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Mon, 19 Sep 2011 12:36:49 +0200

univention-samba4 (1.0.37-1) experimental; urgency=low

  * set samba/function/level?2003 (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Mon, 19 Sep 2011 12:02:08 +0200

univention-samba4 (1.0.36-1) experimental; urgency=low

  * Undo part of r26684: Allow a DC join twice (Bug #23360)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 19 Sep 2011 07:48:10 +0200

univention-samba4 (1.0.35-1) experimental; urgency=low

  * Fixed typo in 96univention-samba4.inst (Bug #23168)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 16 Sep 2011 20:14:51 +0200

univention-samba4 (1.0.34-1) experimental; urgency=low

  * Use samba4 backend for bind (Bug #23168)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 16 Sep 2011 18:47:08 +0200

univention-samba4 (1.0.33-1) experimental; urgency=low

  * Search for dns forward zone first (Bug #23481)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 08 Sep 2011 21:37:06 +0200

univention-samba4 (1.0.32-1) experimental; urgency=low

  * Search via univention-ldapsearch because the nameserver is not ready
    and host  will fail (Bug #23481)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 08 Sep 2011 19:22:26 +0200

univention-samba4 (1.0.31-1) experimental; urgency=low

  * Register local ips to the forward zone (Bug #23481)
  * Don't join a local DC twice

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 08 Sep 2011 17:34:50 +0200

univention-samba4 (1.0.30-2) experimental; urgency=low

  * add copyright header to check_essential_samba4_dns_records.sh
    (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Wed, 31 Aug 2011 18:19:56 +0200

univention-samba4 (1.0.30-1) experimental; urgency=low

  * this package replaces univention-heimdal-kdc (Bug #22600)

 -- Arvid Requate <requate@univention.de>  Wed, 31 Aug 2011 18:01:06 +0200

univention-samba4 (1.0.29-2) experimental; urgency=low

  * add script to check essential DNS records for Samba 4
  * set samba4/ldap/base on all Samba 4 DCs (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Wed, 31 Aug 2011 14:30:00 +0200

univention-samba4 (1.0.29-1) experimental; urgency=low

  * call setup-dns-in-ucsldap.sh explicitely from joinscript
    might be legacy once dlz-dlopen for samba4 is setup in bind9

  * need setup-dns-in-ucsldap also after join of secondary DCs
    might be legacy once nsupdate via TSIG-GSS works, which requires
    use of a writable backend for bind, probably dlz-dlopen for samba4
    (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Wed, 31 Aug 2011 12:08:38 +0200

univention-samba4 (1.0.28-1) experimental; urgency=low

  * workaround for missing crestart in samba4 init script (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Tue, 30 Aug 2011 18:28:28 +0200

univention-samba4 (1.0.27-1) experimental; urgency=low

  * recognize authentication options in univention-s4search to avoid
    intransparent credential mixup (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Tue, 30 Aug 2011 18:17:44 +0200

univention-samba4 (1.0.26-2) experimental; urgency=low

  * ldap bind with machine credentials, DCPWD is unavailable in joinscript
    (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Tue, 30 Aug 2011 12:40:38 +0200

univention-samba4 (1.0.26-1) experimental; urgency=low

  * Adjust comment to please ucslint (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Tue, 30 Aug 2011 11:57:38 +0200

univention-samba4 (1.0.25-1) experimental; urgency=low

  * run provision on first DC that's going to provide the Samba 4 service,
    regardless of beeing a master or not (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Tue, 30 Aug 2011 11:14:30 +0200

univention-samba4 (1.0.24-1) experimental; urgency=low

  * use SAM account password stored in secrets.ldb for univention-s4search
    (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Tue, 30 Aug 2011 09:52:42 +0200

univention-samba4 (1.0.23-5) experimental; urgency=low

  * fix quoting (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Mon, 29 Aug 2011 20:43:47 +0200

univention-samba4 (1.0.23-4) experimental; urgency=low

  * pick the correct server object in the sites definition by following
    the backlink from the machine object of the new DC (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Mon, 29 Aug 2011 20:14:15 +0200

univention-samba4 (1.0.23-3) experimental; urgency=low

  * the current version of set_machine_secret breaks DRS replication
    disable it (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Mon, 29 Aug 2011 19:37:48 +0200

univention-samba4 (1.0.23-2) experimental; urgency=low

  * fix quoting (Bug #23360)
  * determine samba_ldap_base from ldapsearch -s base

 -- Arvid Requate <requate@univention.de>  Mon, 29 Aug 2011 19:13:32 +0200

univention-samba4 (1.0.23-1) experimental; urgency=low

  * try set_machine_secret with updated key version number (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Mon, 29 Aug 2011 18:55:42 +0200

univention-samba4 (1.0.22-1) experimental; urgency=low

  * manually add NTDS objectGUID as DNS CNAME after joining a new DC,
    necessary for DRS replication (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Mon, 29 Aug 2011 18:51:18 +0200

univention-samba4 (1.0.21-1) experimental; urgency=low

  * update key version number in set_machine_secret (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Mon, 29 Aug 2011 17:50:19 +0200

univention-samba4 (1.0.20-4) experimental; urgency=low

  * fix smb.conf.d/99univention-samba_local_shares (Bug #23158)

 -- Arvid Requate <requate@univention.de>  Mon, 29 Aug 2011 17:08:26 +0200

univention-samba4 (1.0.20-3) experimental; urgency=low

  * fix indentation of includes (Bug #23158)

 -- Arvid Requate <requate@univention.de>  Mon, 29 Aug 2011 16:56:05 +0200

univention-samba4 (1.0.20-2) experimental; urgency=low

  * remove ucr registrtion of 95univention-samba_local_config (Bug #23158)

 -- Arvid Requate <requate@univention.de>  Mon, 29 Aug 2011 16:47:54 +0200

univention-samba4 (1.0.20-1) experimental; urgency=low

  * only include existing files into smb.conf (Bug #23158)
  * don't ship 95univention-samba_local_config

 -- Arvid Requate <requate@univention.de>  Mon, 29 Aug 2011 16:37:03 +0200

univention-samba4 (1.0.19-8) experimental; urgency=low

  * avoid Samba version number in server/string (Bug #23158)

 -- Arvid Requate <requate@univention.de>  Mon, 29 Aug 2011 09:33:23 +0200

univention-samba4 (1.0.19-7) experimental; urgency=low

  * only try univention-s4search with connector/s4/ldap/binddn if
    the file specified by connector/s4/ldap/bindpw exists (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Mon, 29 Aug 2011 09:27:23 +0200

univention-samba4 (1.0.19-6) experimental; urgency=low

  * the current version of set_machine_secret breaks DRS replication
    disable it (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Thu, 25 Aug 2011 19:00:07 +0200

univention-samba4 (1.0.19-5) experimental; urgency=low

  * fix typo in add_servicePrincipals (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Thu, 25 Aug 2011 17:43:16 +0200

univention-samba4 (1.0.19-4) experimental; urgency=low

  * let samba4 manage /etc/krb5.keytab on DCs (Bug #22963)
  * add service principals also in backup ans slave (Bug #23360)
  * increase JS VERSION for MS2
  * encapsule MS2 changes with JS_LAST_EXECUTED_VERSION

 -- Arvid Requate <requate@univention.de>  Thu, 25 Aug 2011 17:06:55 +0200

univention-samba4 (1.0.19-3) experimental; urgency=low

  * some improvements in readability and robustness for smb.conf templates
    (Bug #23158)

 -- Arvid Requate <requate@univention.de>  Thu, 25 Aug 2011 16:00:40 +0200

univention-samba4 (1.0.19-2) experimental; urgency=low

  * some postinst and joinscript fixes (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Thu, 25 Aug 2011 15:33:53 +0200

univention-samba4 (1.0.19-1) experimental; urgency=low

  * set machine secret also on master after provision
  * don't append passwords to the samba4.secret file
  * fix permissions for samba4.secret.SAVE file
  * add timestamps to samba4.secret.SAVE (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Thu, 25 Aug 2011 11:43:01 +0200

univention-samba4 (1.0.18-2) experimental; urgency=low

  * improve and dashify univention-s4search (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Thu, 25 Aug 2011 10:38:38 +0200

univention-samba4 (1.0.18-1) experimental; urgency=low

  * use ldbsearch in univention-s4search to be able to authenticate with
    SAM account names instead of binddns. This way we can authenticate
    with the host account on systems where no samba4.secret is available.
    (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Wed, 24 Aug 2011 21:23:14 +0200

univention-samba4 (1.0.17-1) experimental; urgency=low

  * resync of bind module should not be necessary any longer (Bug #23220)

 -- Arvid Requate <requate@univention.de>  Wed, 24 Aug 2011 20:20:34 +0200

univention-samba4 (1.0.16-1) experimental; urgency=low

  * add cases for backup, slave and member to joinscript (Bug #23360)
  * set initially random machine secrets to /etc/machine.secret after join
  * restart samba4 in joinscript instead of postinst

 -- Arvid Requate <requate@univention.de>  Wed, 24 Aug 2011 20:15:24 +0200

univention-samba4 (1.0.15-6) experimental; urgency=low

  * copy postinst initialization code for windows/wins-support from
    univention-samba (Bug #23158)
  * samba/client_use_spnego currently unsupported in samba4 smb.conf

 -- Arvid Requate <requate@univention.de>  Wed, 24 Aug 2011 16:03:15 +0200

univention-samba4 (1.0.15-5) experimental; urgency=low

  * set samba/quota/command to a special value (Bug #23158)

 -- Arvid Requate <requate@univention.de>  Wed, 24 Aug 2011 10:57:08 +0200

univention-samba4 (1.0.15-4) experimental; urgency=low

  * use the --force, ucr (Bug #23158)

 -- Arvid Requate <requate@univention.de>  Wed, 24 Aug 2011 09:56:24 +0200

univention-samba4 (1.0.15-3) experimental; urgency=low

  * unset samba/quota/command in join script (Bug #23158)

 -- Arvid Requate <requate@univention.de>  Tue, 23 Aug 2011 17:13:45 +0200

univention-samba4 (1.0.15-2) experimental; urgency=low

  * migrate samba3 config subfiles containing supported parameters
  * migrate ucr variable desciptions (Bug #23158)

 -- Arvid Requate <requate@univention.de>  Tue, 23 Aug 2011 15:04:12 +0200

univention-samba4 (1.0.15-1) experimental; urgency=low

  * display charset and enable privileges have been removed from loadparm
    (Bug #23158)

 -- Arvid Requate <requate@univention.de>  Mon, 22 Aug 2011 18:23:53 +0200

univention-samba4 (1.0.14-2) experimental; urgency=low

  * fix machinepass in provision command (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Mon, 15 Aug 2011 20:16:29 +0200

univention-samba4 (1.0.14-1) experimental; urgency=low

  * provision --function-level=2008_R2, e.g. for AES support (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Mon, 08 Aug 2011 12:55:33 +0200

univention-samba4 (1.0.13-2) experimental; urgency=low

  * remove salt_krb5keys from install file (Bug #22212)

 -- Arvid Requate <requate@univention.de>  Mon, 15 Aug 2011 15:17:17 +0200

univention-samba4 (1.0.13-1) experimental; urgency=low

  * move salt_krb5keys to univention-heimdal-kdc (Bug #22212)

 -- Arvid Requate <requate@univention.de>  Mon, 15 Aug 2011 15:17:17 +0200

univention-samba4 (1.0.12-1) experimental; urgency=low

  * Fixed shell syntax error in 96univention-samba4.inst (Bug #22559)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 10 Aug 2011 08:10:20 +0200

univention-samba4 (1.0.11-1) experimental; urgency=low

  * check if printers.conf and shares.conf exist before including in
    smb.conf, to avoid get_loadparm tracebacks (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Tue, 09 Aug 2011 14:12:13 +0200

univention-samba4 (1.0.10-1) experimental; urgency=low

  * call provision only on domaincontroller_master (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Tue, 09 Aug 2011 12:43:40 +0200

univention-samba4 (1.0.9-1) experimental; urgency=low

  * remove unknown smb.conf parameter "setup directory" (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Thu, 04 Aug 2011 12:22:14 +0200

univention-samba4 (1.0.8-3) experimental; urgency=low

  * use ldaps port in salt_krb5Keys (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Tue, 02 Aug 2011 19:24:26 +0200

univention-samba4 (1.0.8-2) experimental; urgency=low

  * add copyright to salt_krb5Keys (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Tue, 02 Aug 2011 18:56:21 +0200

univention-samba4 (1.0.8-1) experimental; urgency=low

  * install salt_krb5Keys script, needed by univention-s4-connector
    (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Tue, 02 Aug 2011 18:39:32 +0200

univention-samba4 (1.0.7-1) experimental; urgency=low

  * set ldap/server/port=7389 in setup-s4.sh if ldap/server/name points
    to local system (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Mon, 01 Aug 2011 19:20:02 +0200

univention-samba4 (1.0.6-1) experimental; urgency=low

  * Set samba/debug/level in postinst (Bug #22559)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 29 Jul 2011 21:12:41 +0200

univention-samba4 (1.0.5-2) experimental; urgency=low

  * depend on current version of python-univention for getAdminConnection
    to honour ldap/master/port (Bug #20026)

 -- Arvid Requate <requate@univention.de>  Thu, 28 Jul 2011 18:26:14 +0200

univention-samba4 (1.0.5-1) experimental; urgency=low

  * setup-s4: set ldap/master/port=7389 if we are the ldap/master
  * setup-s4: adjust ldap/server/port only if we are ldap/server/name
    (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Wed, 20 Jul 2011 17:32:14 +0200

univention-samba4 (1.0.4-2) experimental; urgency=low

  * fix shell syntax error in postinst (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Thu, 07 Jul 2011 17:41:37 +0200

univention-samba4 (1.0.4-1) experimental; urgency=low

  * Fixed port removing in setup-s4.sh (Bug #22559)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 07 Jul 2011 16:53:45 +0200

univention-samba4 (1.0.3-1) experimental; urgency=low

  * set LDB_MODULES_PATH before starting provision (Bug #22559)
  * adjust path to setup/provision tools to debian alpha16 package
  * depend on samba4-clients
  * remove existing smb.conf in postinst, replaced by smb.conf.d
  * use univention-ldapsearch for authenticated search (Bug #17519)
  * fix typo in setting of ldap/server/path

 -- Arvid Requate <requate@univention.de>  Thu, 07 Jul 2011 11:57:32 +0200

univention-samba4 (1.0.2-1) experimental; urgency=low

  * Changed dependency from samba-ldb-tools to ldb-tools (Bug #22559)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 08 Jun 2011 15:51:41 +0200

univention-samba4 (1.0.1-1) experimental; urgency=low

  * Removed empty line from debian/univention-samba4.univention-config-
    registry (Bug #22559)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 08 Jun 2011 15:45:06 +0200

univention-samba4 (1.0.0-1) experimental; urgency=low

  * Package cleanups for UCS 3.0 (Bug #22559)
  * Integrate scripts/msdcs.ipProtocol.patch into udm-modules package

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 08 Jun 2011 15:38:28 +0200

univention-samba4 (0.2.16-1) experimental; urgency=low

  * Added 2011 to copyright (Bug #20916)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 26 Jan 2011 10:46:49 +0100

univention-samba4 (0.2.15-1) experimental; urgency=low

  * Do not write netbios aliases twice and use the dns domainname
    instead of the samba domain (Bug #21238)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 24 Jan 2011 14:42:13 +0100

univention-samba4 (0.2.14-1) experimental; urgency=low

  * Create Samba 4 service and set netbios aliases to the first Samba 4
    dc in the domain (Bug #21238)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 21 Jan 2011 10:52:26 +0100

univention-samba4 (0.2.13-1) experimental; urgency=low

  * Check if ucr variable kerberos/realm is set (Bug #21226)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 21 Jan 2011 07:47:46 +0100

univention-samba4 (0.2.12-1) experimental; urgency=low

  * Create kerberos service entries for sshd and slapd (Bug #20131)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 18 Jan 2011 08:23:20 +0100

univention-samba4 (0.2.11-1) experimental; urgency=low

  * Moved kerberos settings to univention-heimdal (Bug #20131)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 18 Jan 2011 06:59:06 +0100

univention-samba4 (0.2.10-1) experimental; urgency=low

  * Generate a secure password with pwgen (Bug #21217)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 17 Jan 2011 16:13:12 +0100

univention-samba4 (0.2.9-1) experimental; urgency=low

  * Copy samba4 keytab to /etc/krb5.keytab (Bug #20916)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 17 Jan 2011 08:06:54 +0100

univention-samba4 (0.2.8-1) experimental; urgency=low

  * Create local configuration files if needed (Bug #20131)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 13 Jan 2011 14:55:55 +0100

univention-samba4 (0.2.7-1) experimental; urgency=low

  * More smb.conf cleanups (Bug #20131)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 13 Jan 2011 11:40:18 +0100

univention-samba4 (0.2.6-2) experimental; urgency=low

  * Cleanup and expand smb.conf configuration (Bug #20131)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 13 Jan 2011 07:45:27 +0100

univention-samba4 (0.2.6-1) experimental; urgency=low

  * Create ucs-s4sync user in s4-connector package (Bug #21145)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 12 Jan 2011 21:52:13 +0100

univention-samba4 (0.2.5-1) experimental; urgency=low

  * Create synchronisation user ucs-s4sync for the sync between Samba 4
    and OpenLDAP (Bug #21145)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 12 Jan 2011 13:51:43 +0100

univention-samba4 (0.2.4-1) experimental; urgency=low

  * Determined partition GUID on the basis of the objectGUID from the
    windows_domain partition object (Bug #20132)
  * Use fqdn instead of hostname for the service records

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 12 Jan 2011 07:28:48 +0100

univention-samba4 (0.2.3-3) experimental; urgency=low

  * Add samba version to server string and restart samba4 in postinst
    (Bug #20131)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 11 Jan 2011 20:39:48 +0100

univention-samba4 (0.2.3-2) experimental; urgency=low

  * Added home share and cleanup smb.conf (Bug #20131)
  * Don't patch smb.conf manually (Bug #20131)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 11 Jan 2011 07:49:21 +0100

univention-samba4 (0.2.3-1) experimental; urgency=low

  * Install samba-ldb-tools by default (Bug #20131)
  * Add univention-s4search (Bug #20915)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 07 Jan 2011 11:15:57 +0100

univention-samba4 (0.2.2-1) experimental; urgency=low

  * Do no depend on dc master package (Bug #20131)
  * Check if /etc/init.d/samba exists before calling
  * Cleanup the setup-s4.sh script (Bug #20131)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 06 Jan 2011 09:22:35 +0100

univention-samba4 (0.2.1-1) experimental; urgency=low

  * removed change-ucs-ldap_port.patch, which was merged into the source
    packages (Bug #20026)
  * Updated copyright file
  * Added S4 join script
  * Move conffile 93univention-samba4 to the correct path
  * Removed wrong references to ad connector package

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 03 Jan 2011 14:38:04 +0100

univention-samba4 (0.1-12) experimental; urgency=low

  * add 93univention-samba4 subfile to smb.conf
  * configure TLS for Samba Directory (Bug #20131)

 -- Arvid Requate <requate@univention.de>  Thu, 07 Oct 2010 14:48:27 +0200

univention-samba4 (0.1-11) experimental; urgency=low

  * avoid using SmartLDAPObject for LDAPI (Bug #20131)

 -- Arvid Requate <requate@univention.de>  Thu, 07 Oct 2010 10:36:10 +0200

univention-samba4 (0.1-10) experimental; urgency=low

  * register modified UCR-templates (Bug #20131)

 -- Arvid Requate <requate@univention.de>  Thu, 07 Oct 2010 09:41:11 +0200

univention-samba4 (0.1-9) experimental; urgency=low

  * add patch for ldap/server/port support in dhcpd.conf (Bug #20131)

 -- Arvid Requate <requate@univention.de>  Wed, 06 Oct 2010 20:03:31 +0200

univention-samba4 (0.1-8) experimental; urgency=low

  * resync univention-bind zones to connect to new LDAP port (Bug #20131)

 -- Arvid Requate <requate@univention.de>  Tue, 05 Oct 2010 17:14:07 +0200

univention-samba4 (0.1-7) experimental; urgency=low

  * more on ldapi and patch merge into change-ucs-ldap_port (Bug #20131)

 -- Arvid Requate <requate@univention.de>  Tue, 05 Oct 2010 15:09:12 +0200

univention-samba4 (0.1-6) experimental; urgency=low

  * supply patch to add basic ldapi support to uldap.py (Bug #20131)

 -- Arvid Requate <requate@univention.de>  Fri, 01 Oct 2010 13:55:55 +0200

univention-samba4 (0.1-5) experimental; urgency=low

  * generate password for Samba4 Administrator
  * call setup-s4 Script in postinst
  * supply current domainSid to provision script
  * supply machine password to provision script
  * reverse package dependency relation to univention-s4-connector
  * new UCR variable samba4/ldap/base for s4-connector (Bug #20131)

 -- Arvid Requate <requate@univention.de>  Thu, 30 Sep 2010 18:22:42 +0200

univention-samba4 (0.1-4) experimental; urgency=low

  * disable autostart of heimdal-kdc and samba3 (Bug #20131)
  * use ldapi socket instead of tdb

 -- Arvid Requate <requate@univention.de>  Thu, 30 Sep 2010 14:08:23 +0200

univention-samba4 (0.1-3) experimental; urgency=low

  * add basic build-dependecies (Bug #20131)

 -- Arvid Requate <requate@univention.de>  Mon, 27 Sep 2010 18:16:30 +0200

univention-samba4 (0.1-2) experimental; urgency=low

  * minor fixes for new Bug #20131

 -- Arvid Requate <requate@univention.de>  Mon, 27 Sep 2010 13:12:35 +0200

univention-samba4 (0.1-1) experimental; urgency=low

  * initial release (Bug #17214)

 -- Arvid Requate <requate@univention.de>  Fri, 24 Sep 2010 11:45:33 +0200

